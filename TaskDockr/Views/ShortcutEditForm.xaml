<Window
    x:Class="TaskDockr.Views.ShortcutEditForm"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Edit Shortcut"
    Width="480" Height="300"
    WindowStartupLocation="CenterOwner"
    ResizeMode="NoResize"
    ShowInTaskbar="False"
    Background="#1E1E1E"
    Icon="/Assets/AppIcon.ico">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Name -->
        <TextBlock Grid.Row="0" Text="Name" FontWeight="SemiBold" Margin="0,0,0,4"
                   Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
        <TextBox Grid.Row="1"
                 Text="{Binding ShortcutName, UpdateSourceTrigger=PropertyChanged}"
                 Style="{StaticResource FluentTextBoxStyle}"
                 Margin="0,0,0,12" />

        <!-- Target -->
        <TextBlock Grid.Row="2" Text="Target (path, URL, or app)" FontWeight="SemiBold" Margin="0,0,0,4"
                   Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
        <Grid Grid.Row="3" Margin="0,0,0,8">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <TextBox Grid.Column="0"
                     Text="{Binding TargetPath, UpdateSourceTrigger=PropertyChanged}"
                     Style="{StaticResource FluentTextBoxStyle}"
                     Margin="0,0,8,0" />
            <Button Grid.Column="1" Content="Browse"
                    Command="{Binding BrowseTargetCommand}"
                    Style="{StaticResource DefaultButtonStyle}"
                    Padding="16,6" />
        </Grid>

        <!-- Validation -->
        <TextBlock Grid.Row="4" Text="{Binding ValidationError}"
                   Foreground="OrangeRed" FontSize="11" VerticalAlignment="Top"
                   Visibility="{Binding ValidationError, Converter={StaticResource StringToVisibilityConverter}}" />

        <!-- Buttons -->
        <StackPanel Grid.Row="5" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="Cancel" Margin="0,0,8,0"
                    Command="{Binding CancelCommand}"
                    Style="{StaticResource DefaultButtonStyle}" />
            <Button Content="Save Changes"
                    Command="{Binding SaveCommand}"
                    Style="{StaticResource AccentButtonStyle}" />
        </StackPanel>
    </Grid>
</Window>
